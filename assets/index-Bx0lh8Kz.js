const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mermaid.core-fDAYVltv.js","assets/index-Bb_P4A5L.js","assets/index-C7miAQ3f.css"])))=>i.map(i=>d[i]);
import{R as a,u as G,r as o,_ as D,P as S}from"./index-Bb_P4A5L.js";const j=()=>{typeof window<"u"&&"requestIdleCallback"in window&&window.requestIdleCallback(()=>{D(()=>import("./mermaid.core-fDAYVltv.js").then(c=>c.b6),__vite__mapDeps([0,1,2])).catch(()=>{})})},F=async()=>{try{return(await D(()=>import("./mermaid.core-fDAYVltv.js").then(l=>l.b6),__vite__mapDeps([0,1,2]))).default}catch(c){throw console.error("Failed to load Mermaid:",c),c}},q=()=>a.createElement("div",{className:"mermaid-loading"},a.createElement("div",{className:"mermaid-loading-container"},a.createElement("div",{className:"mermaid-loading-spinner"}),a.createElement("div",{className:"mermaid-loading-skeleton"},a.createElement("div",{className:"skeleton-header"}),a.createElement("div",{className:"skeleton-diagram"},a.createElement("div",{className:"skeleton-node"}),a.createElement("div",{className:"skeleton-line"}),a.createElement("div",{className:"skeleton-node"}),a.createElement("div",{className:"skeleton-line"}),a.createElement("div",{className:"skeleton-node"}))),a.createElement("p",null,"Loading diagram renderer..."))),R=()=>{const{theme:c}=G(),[l,M]=o.useState(`graph TD
    A[Business Needs<br>Stakeholder Goals] -->|Identify Requirements| B{Fractional CTO}
    B -->|Strategic Planning| C[Technical Strategy<br>Architecture Design]
    B -->|Team Leadership| D[Development Teams<br>Agile Execution]
    B -->|Infrastructure Oversight| E[Cloud & DevOps<br>Deployment]
    C -->|Define Tech Stack| F[Technologies<br>e.g., GCP, Terraform, Docker]
    D -->|CI/CD Pipelines| G[Development<br>Code & Test]
    E -->|Scalability & Security| H[Production<br>Deployment]
    F --> G
    G --> H
    H -->|Deliver Solutions| I[Business Outcomes<br>Client Success]`),[f,E]=o.useState(""),[s,O]=o.useState(null),[m,T]=o.useState(!1),[p,h]=o.useState(null),[g]=o.useState(0),i=o.useRef(null),v=o.useRef(null),[k,x]=o.useState(!1),[w,I]=o.useState({width:0,height:0}),e=c==="dark";o.useEffect(()=>{const t=new IntersectionObserver(r=>{r.forEach(n=>{n.isIntersecting&&n.intersectionRatio>.1&&j()})},{threshold:.1,rootMargin:"50px"});return v.current&&t.observe(v.current),()=>t.disconnect()},[]),o.useEffect(()=>{if(!i.current)return;const t=new ResizeObserver(r=>{for(const n of r){const{width:u,height:d}=n.contentRect;I({width:u,height:d})}});return t.observe(i.current),()=>t.disconnect()},[]),o.useEffect(()=>{if(!i.current||!f)return;const t=i.current.querySelector("svg");t&&w.width>0&&(t.style.maxWidth="100%",t.style.height="auto",t.style.width="auto")},[f,w]);const B=o.useMemo(()=>({theme:"base",fontFamily:"Inter Tight, sans-serif",fontSize:"16px",textColor:e?"#fafafa":"#0a0d1a",themeVariables:{fontFamily:"Inter Tight, sans-serif",fontSize:"16px",textColor:e?"#fafafa":"#0a0d1a",darkMode:e,background:e?"#0c0f1d":"#f7f7f7",primaryColor:e?"#1a1d2e":"#eafcfa",primaryTextColor:e?"#fafafa":"#0c0f1d",primaryBorderColor:e?"#37c5b3":"#97f0e5",secondaryColor:e?"#613dff":"#f6ce9e",secondaryTextColor:e?"#fafafa":"#0c0f1d",secondaryBorderColor:e?"#97f0e5":"#f97946",tertiaryColor:e?"#f946ac":"#8cf28a",tertiaryTextColor:e?"#fafafa":"#0c0f1d",tertiaryBorderColor:e?"#f759b7":"#6bcc69",lineColor:e?"#f7f7f7":"#37c5b3",arrowheadColor:e?"#f7f7f7":"#37c5b3",edgeColor:e?"#f7f7f7":"#37c5b3",defaultLinkColor:e?"#f7f7f7":"#37c5b3",clusterBkg:e?"#252842":"#e9ccff",clusterBorder:e?"#a56ff1":"#c584f6",noteBkgColor:"#f9d546",noteTextColor:"#0c0f1d",noteBorderColor:"#f97946",errorBkgColor:e?"#b91c1c":"#f87171",errorTextColor:e?"#f87171":"#b91c1c",nodeBorder:e?"#37c5b3":"#97f0e5",nodeTextColor:e?"#fafafa":"#0c0f1d",edgeLabelBackground:e?"#1a1d2e":"#eafcfa",titleColor:e?"#fafafa":"#0a0d1a",actorBkg:e?"#0c0f1d":"#f7f7f7",actorBorder:e?"#37c5b3":"#97f0e5",actorTextColor:e?"#fafafa":"#0c0f1d",actorLineColor:e?"#f7f7f7":"#37c5b3",signalColor:e?"#f7f7f7":"#37c5b3",signalTextColor:e?"#fafafa":"#0c0f1d",labelBoxBkgColor:e?"#1a1d2e":"#eafcfa",labelBoxBorderColor:e?"#37c5b3":"#97f0e5",labelTextColor:e?"#fafafa":"#0c0f1d",loopTextColor:e?"#fafafa":"#0c0f1d",activationBorderColor:e?"#97f0e5":"#37c5b3",activationBkgColor:e?"#252842":"#f0fffe",sequenceNumberColor:e?"#fafafa":"#0c0f1d",section0:e?"#1a1d2e":"#eafcfa",section1:e?"#613dff":"#f6ce9e",section2:e?"#f946ac":"#8cf28a",section3:e?"#37c5b3":"#fce4a6",git0:e?"#1a1d2e":"#eafcfa",git1:e?"#613dff":"#f6ce9e",git2:e?"#f946ac":"#8cf28a",git3:e?"#37c5b3":"#fce4a6",git4:e?"#f759b7":"#f0c5d8",git5:e?"#97f0e5":"#d4b5f7",git6:e?"#f97946":"#b8e6d3",git7:e?"#6bcc69":"#ffd5a6",pieTitleTextSize:"20px",pieTitleTextColor:e?"#fafafa":"#0a0d1a",pieOuterStrokeWidth:"2px",pieStrokeColor:e?"#37c5b3":"#0a0d1a",pieOpacity:"0.9",fillType0:e?"#1a1d2e":"#eafcfa",fillType1:e?"#613dff":"#f6ce9e",fillType2:e?"#f946ac":"#8cf28a",fillType3:e?"#37c5b3":"#fce4a6",fillType4:e?"#f759b7":"#f0c5d8",fillType5:e?"#97f0e5":"#d4b5f7",fillType6:e?"#f97946":"#b8e6d3",fillType7:e?"#6bcc69":"#ffd5a6"}}),[e]);o.useEffect(()=>{!s&&!k&&(async()=>{try{if(x(!0),!s){const r=await F();O(r),T(!0)}}catch(r){console.error("Failed to load Mermaid library:",r),h(r),T(!1)}finally{x(!1)}})()},[s,k]),o.useEffect(()=>{if(!s||!m||!l)return;(async()=>{try{i.current&&(i.current.innerHTML=""),s.initialize(B);const{svg:r}=await s.render("mermaid-graph",l);E(r),h(null)}catch(r){E(`<p>Error rendering diagram: ${r.message}</p>`),h(r)}})()},[l,c,m,s,B]);const U=()=>{if(!f)return;const t=new Blob([f],{type:"image/svg+xml"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="diagram.svg",n.click(),URL.revokeObjectURL(r)},_=()=>{var r;const t=(r=i.current)==null?void 0:r.querySelector("svg");if(t)try{const n=document.createElement("canvas"),u=t.getBBox();n.width=u.width*2,n.height=u.height*2;const d=n.getContext("2d");if(!d)return;d.scale(2,2);const b=new Image,P=new XMLSerializer().serializeToString(t),z=new Blob([P],{type:"image/svg+xml;charset=utf-8"}),y=URL.createObjectURL(z);b.onload=()=>{d.drawImage(b,0,0),n.toBlob(L=>{if(L){const N=URL.createObjectURL(L),C=document.createElement("a");C.href=N,C.download="diagram.png",C.click(),URL.revokeObjectURL(N)}},"image/png"),URL.revokeObjectURL(y)},b.onerror=()=>{URL.revokeObjectURL(y)},b.src=y}catch(n){console.error("Error generating PNG:",n)}};return a.createElement("section",{className:"section",ref:v},a.createElement("div",{className:"container"},a.createElement("h2",{className:"section-title"},"Mermaid.js"),p&&a.createElement("div",{className:"alert alert-danger",role:"alert"},"Error: ",p.message),!m&&!p&&a.createElement(q,null),g>0&&g<100&&a.createElement("div",{className:"loading-progress"},a.createElement("div",{className:"progress-bar",style:{width:`${g}%`}}),a.createElement("span",{className:"progress-text"},g,"% loaded")),m&&a.createElement("div",{className:"mermaid-container"},a.createElement("div",{className:"mermaid-editor-diagram-wrapper"},a.createElement("div",{className:"mermaid-editor"},a.createElement("textarea",{value:l,onChange:t=>M(t.target.value),placeholder:"Enter your Mermaid syntax here..."})),a.createElement("div",{className:"mermaid-diagram",ref:i,dangerouslySetInnerHTML:{__html:f}})),a.createElement("div",{className:"mermaid-buttons"},a.createElement("button",{className:"btn btn-primary",onClick:U},"Download SVG"),a.createElement("button",{className:"btn btn-secondary",onClick:_},"Download PNG")))))};R.propTypes={diagramDefinition:S.string,theme:S.oneOf(["light","dark"])};const H=a.memo(R);export{H as Mermaid};
