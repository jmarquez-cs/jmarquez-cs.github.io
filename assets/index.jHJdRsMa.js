import{R as e,r as t}from"./react-vendor.DD8UTJe_.js";import"./mermaid-core.CmyEpniE.js";const n=()=>{const n=t.useRef(null),i=t.useRef(null),r=t.useRef(0),o=t.useRef(Date.now()),a=t.useCallback(()=>{const e=n.current;e&&(e.width=window.innerWidth,window.innerWidth<=480?e.height=230:window.innerWidth<=768?e.height=280:e.height=380)},[]),l=t.useCallback(()=>{const e=n.current;if(!e)return;const t=e.getContext("2d");if(!t)return;const r=.01,o=.03,a=.7*e.height,h=e.width/2,s=t.createLinearGradient(0,0,0,e.height);s.addColorStop(0,"rgba(0, 100, 200, 0.7)"),s.addColorStop(1,"rgba(0, 200, 150, 0.7)"),t.clearRect(0,0,e.width,e.height);const c=performance.now()/1e3,d=Array(5).fill().map(()=>[]),f=[];for(let n=0;n<5;n++){const t=40*Math.sin(.6*c-.4*n*1.2);for(let i=0;i<e.width;i+=.5){const e=a+40*Math.sin(r*i+c-.4*n)+12*Math.sin(o*i+1.5*c-.4*n)+t+20*n-40;d[n].push({x:i,y:e}),Math.abs(i-h)<.5&&(f[n]=e)}}t.save(),t.fillStyle=s,t.filter="blur(3px)",t.beginPath(),t.moveTo(0,e.height);for(const n of d[4])t.lineTo(n.x,n.y);t.lineTo(e.width,e.height),t.lineTo(0,e.height),t.fill(),t.restore(),t.save(),t.fillStyle=s;for(let n=0;n<4;n++){t.beginPath(),t.moveTo(d[n][0].x,d[n][0].y);for(let e=0;e<d[n].length;e++)t.lineTo(d[n][e].x,d[n][e].y);for(let e=d[n+1].length-1;e>=0;e--)t.lineTo(d[n+1][e].x,d[n+1][e].y);t.closePath(),t.fill()}t.restore();for(let n=1;n<5;n++){t.beginPath(),t.strokeStyle=s,t.lineWidth=2;for(let e=0;e<d[n].length;e++)0===e?t.moveTo(d[n][e].x,d[n][e].y):t.lineTo(d[n][e].x,d[n][e].y);t.stroke()}t.save(),t.strokeStyle=s,t.lineWidth=2;let g=!1;t.beginPath();for(let n=0;n<d[0].length;n++){const e=d[0][n].x,i=d[0][n].y;let r=Math.min(...d.slice(1).map(e=>e[n].y)),o=1;i>r&&(o=Math.max(0,1-(i-r)/20)),o>0?(t.globalAlpha=o,g?t.lineTo(e,i):(t.moveTo(e,i),g=!0)):g&&(t.stroke(),t.beginPath(),g=!1)}g&&t.stroke(),t.globalAlpha=1,t.restore();const u=Math.min(...f.slice(1)),m=f[0];let w=1;if(m>u&&(w=Math.max(0,1-(m-u)/20)),w>0){t.save(),t.font="24px Arial",t.textAlign="center",t.textBaseline="middle",t.globalAlpha=w;const e=.5,n=a+40*Math.sin(r*(h-e)+c)+12*Math.sin(o*(h-e)+1.5*c)+40*Math.sin(.6*c)-40,i=(a+40*Math.sin(r*(h+e)+c)+12*Math.sin(o*(h+e)+1.5*c)+40*Math.sin(.6*c)-40-n)/(2*e),l=Math.atan(i);t.translate(h,m),t.rotate(l),t.fillText("â›µ",0,0),t.restore()}i.current=requestAnimationFrame(l)},[]);return t.useEffect(()=>{const e=n.current;if(e)return e.width=window.innerWidth,window.innerWidth<=480?e.height=230:window.innerWidth<=768?e.height=280:e.height=380,r.current=0,o.current=Date.now(),l(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),i.current&&(cancelAnimationFrame(i.current),i.current=null)}},[l,a]),e.createElement("canvas",{ref:n,className:"wave-background"})};n.displayName="WaveBackground";const i=e.memo(n);export{i as WaveBackground};
