import{R as e,d as a,e as s,u as t,f as n,r as c,B as l,P as m}from"./index.D7yvmMu7.js";const r=e=>{if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]},i=e=>{switch(e){case"A":return"#4caf50";case"B":return"#8bc34a";case"C":return"#ff9800";case"D":return"#f44336";default:return"#9e9e9e"}},o=e.memo(({performanceScore:a})=>e.createElement("div",{className:"metric-card performance-scores"},e.createElement("h4",null,"ðŸŽ¯ Performance Scores"),e.createElement("div",{className:"score-grid"},e.createElement("div",{className:"score-item"},e.createElement("span",{className:"score-label"},"Bundle Size"),e.createElement("span",{className:"score-value",style:{color:i(a.bundleSize)}},a.bundleSize)),e.createElement("div",{className:"score-item"},e.createElement("span",{className:"score-label"},"Compression"),e.createElement("span",{className:"score-value",style:{color:i(a.compression)}},a.compression)),e.createElement("div",{className:"score-item"},e.createElement("span",{className:"score-label"},"Caching"),e.createElement("span",{className:"score-value",style:{color:i(a.caching)}},a.caching)))));o.displayName="PerformanceScores",o.propTypes={performanceScore:m.object.isRequired};const d=e.memo(({totalSize:a,compressedSize:s,compressionRatio:t,chunksCount:n})=>e.createElement("div",{className:"metric-card bundle-summary"},e.createElement("h4",null,"ðŸ“ˆ Bundle Summary"),e.createElement("div",{className:"summary-stats"},e.createElement("div",{className:"stat"},e.createElement("span",{className:"stat-value"},r(a)),e.createElement("span",{className:"stat-label"},"Total Size")),e.createElement("div",{className:"stat"},e.createElement("span",{className:"stat-value"},r(s)),e.createElement("span",{className:"stat-label"},"Compressed")),e.createElement("div",{className:"stat"},e.createElement("span",{className:"stat-value"},t,"%"),e.createElement("span",{className:"stat-label"},"Compression")),e.createElement("div",{className:"stat"},e.createElement("span",{className:"stat-value"},n),e.createElement("span",{className:"stat-label"},"Chunks")))));d.displayName="BundleSummary",d.propTypes={totalSize:m.number.isRequired,compressedSize:m.number.isRequired,compressionRatio:m.string.isRequired,chunksCount:m.number.isRequired};const p=e.memo(({budgetStatus:a})=>{var s,t;return e.createElement("div",{className:"metric-card budget-status"},e.createElement("h4",null,"Budget Status"),e.createElement("div",{className:"budget-indicator "+(a.passed?"passed":"failed")},e.createElement("span",{className:"budget-icon"},a.passed?"âœ…":"âŒ"),e.createElement("span",{className:"budget-text"},a.passed?"All budgets met":`${(null==(s=a.warnings)?void 0:s.length)||0} violations`)),!a.passed&&(null==(t=a.warnings)?void 0:t.slice(0,3).map((a,s)=>e.createElement("div",{key:s,className:"budget-violation"},e.createElement("span",{className:"violation-message"},"string"==typeof a?a:a.message)))))});p.displayName="BudgetStatus",p.propTypes={budgetStatus:m.object.isRequired};const u=e.memo(({chunks:a})=>{const s=[...a].sort((e,a)=>(a.size||0)-(e.size||0)),t=s.slice(0,10);return e.createElement("div",{className:"chunks-tab"},e.createElement("div",{className:"chunks-analysis"},e.createElement("h4",null,"ðŸ”¥ Largest Chunks (Top 10)"),e.createElement("div",{className:"chunks-list"},t.map((a,s)=>{var t;return e.createElement("div",{key:s,className:"chunk-item detailed"},e.createElement("div",{className:"chunk-info"},e.createElement("span",{className:"chunk-name"},a.name),e.createElement("span",{className:"chunk-type"},a.type||"js")),e.createElement("div",{className:"chunk-metrics"},e.createElement("span",{className:"chunk-size"},r(a.size||0)),e.createElement("span",{className:"chunk-compressed"},r(a.compressedSize||0)),e.createElement("span",{className:"chunk-compression"},a.compressionRatio,"%"),e.createElement("span",{className:"chunk-load-time"},(null==(t=a.loadTime)?void 0:t.toFixed(2))||0,"ms"),a.cached&&e.createElement("span",{className:"cached-indicator"},"ðŸ’¾")))}))),e.createElement("div",{className:"all-chunks"},e.createElement("h4",null,"ðŸ“‚ All Chunks (",a.length,")"),e.createElement("div",{className:"chunks-container"},s.map((a,s)=>{var t;return e.createElement("div",{key:s,className:"chunk-item compact"},e.createElement("span",{className:"chunk-name"},a.name),e.createElement("span",{className:"chunk-size"},r(a.size||0)),e.createElement("span",{className:"chunk-load-time"},(null==(t=a.loadTime)?void 0:t.toFixed(2))||0,"ms"),a.cached&&e.createElement("span",{className:"cached-indicator"},"ðŸ“¦"))}))))});u.displayName="ChunksTab",u.propTypes={chunks:m.array.isRequired};const E=e.memo(({dependencies:a,totalSize:s})=>{const t=Object.entries(a).sort(([,e],[,a])=>a-e).slice(0,5);return e.createElement("div",{className:"dependencies-tab"},e.createElement("div",{className:"dependencies-analysis"},e.createElement("h4",null,"ðŸ“š Largest Dependencies"),t.length>0?e.createElement("div",{className:"dependencies-list"},t.map(([a,t],n)=>e.createElement("div",{key:n,className:"dependency-item"},e.createElement("div",{className:"dependency-info"},e.createElement("span",{className:"dependency-name"},a)),e.createElement("div",{className:"dependency-metrics"},e.createElement("span",{className:"dependency-size"},r(t)),e.createElement("span",{className:"dependency-percentage"},(t/s*100).toFixed(1),"%"))))):e.createElement("div",{className:"no-dependencies"},"No dependency data available")))});E.displayName="DependenciesTab",E.propTypes={dependencies:m.object.isRequired,totalSize:m.number.isRequired};const N=e.memo(({recommendations:a})=>e.createElement("div",{className:"recommendations-tab"},e.createElement("div",{className:"recommendations"},e.createElement("h4",null,"ðŸ’¡ Optimization Recommendations"),a.length>0?e.createElement("div",{className:"recommendations-list"},a.map((a,s)=>e.createElement("div",{key:s,className:"recommendation-item"},e.createElement("div",{className:"recommendation-icon"},"ðŸ’¡"),e.createElement("div",{className:"recommendation-content"},e.createElement("span",{className:"recommendation-text"},a))))):e.createElement("div",{className:"no-recommendations"},e.createElement("div",{className:"success-message"},e.createElement("span",{className:"success-icon"},"âœ…"),e.createElement("span",null,"All optimization recommendations met!"))))));N.displayName="RecommendationsTab",N.propTypes={recommendations:m.array.isRequired};const v=({isVisible:m=!0})=>{var r;const{totalSize:i,compressedSize:o,chunks:d,cacheEfficiency:p}=a();s();const{theme:u}=t(),{isVisible:E,toggleVisibility:N}=n(),[v,h]=c.useState("overview"),[g,y]=c.useState(()=>"true"===localStorage.getItem("bundleAnalyzerClosedThisSession"));c.useEffect(()=>{const e=()=>{localStorage.removeItem("bundleAnalyzerClosedThisSession")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[]);const b=i>0?((i-o)/i*100).toFixed(1):0;d.length>0&&(null==(r=d[0])||r.size);const k=(i<3e5?25:i<5e5?20:i<1e6?15:10)+(b>70?25:b>50?20:b>30?15:10)+(parseFloat(p)>80?25:parseFloat(p)>60?20:parseFloat(p)>40?15:10)+(d.length<10?25:d.length<20?20:d.length<30?15:10),{grade:S,color:f}=(z=k)>=90?{grade:"A",color:"#4caf50"}:z>=80?{grade:"B",color:"#8bc34a"}:z>=70?{grade:"C",color:"#ff9800"}:{grade:"D",color:"#f44336"};var z;return g?null:e.createElement(e.Fragment,null,e.createElement(l,{isVisible:E,onToggle:()=>{N()}}),E)};v.displayName="BundleAnalyzer",v.propTypes={isVisible:m.bool};const h=e.memo(v);export{h as BundleAnalyzer,l as BundleAnalyzerToggle};
