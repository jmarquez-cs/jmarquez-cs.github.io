import{R as e,d as A,e as q,u as F,f as x,r as d,B as w,P as l}from"./index-Bb_P4A5L.js";const r=a=>{if(a===0)return"0 Bytes";const t=1024,c=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(a)/Math.log(t));return parseFloat((a/Math.pow(t,s)).toFixed(2))+" "+c[s]},p=a=>{switch(a){case"A":return"#4caf50";case"B":return"#8bc34a";case"C":return"#ff9800";case"D":return"#f44336";default:return"#9e9e9e"}},D=a=>a>=90?{grade:"A",color:"#4caf50"}:a>=80?{grade:"B",color:"#8bc34a"}:a>=70?{grade:"C",color:"#ff9800"}:{grade:"D",color:"#f44336"},v=e.memo(({performanceScore:a})=>e.createElement("div",{className:"metric-card performance-scores"},e.createElement("h4",null,"ðŸŽ¯ Performance Scores"),e.createElement("div",{className:"score-grid"},e.createElement("div",{className:"score-item"},e.createElement("span",{className:"score-label"},"Bundle Size"),e.createElement("span",{className:"score-value",style:{color:p(a.bundleSize)}},a.bundleSize)),e.createElement("div",{className:"score-item"},e.createElement("span",{className:"score-label"},"Compression"),e.createElement("span",{className:"score-value",style:{color:p(a.compression)}},a.compression)),e.createElement("div",{className:"score-item"},e.createElement("span",{className:"score-label"},"Caching"),e.createElement("span",{className:"score-value",style:{color:p(a.caching)}},a.caching)))));v.displayName="PerformanceScores";v.propTypes={performanceScore:l.object.isRequired};const h=e.memo(({totalSize:a,compressedSize:t,compressionRatio:c,chunksCount:s})=>e.createElement("div",{className:"metric-card bundle-summary"},e.createElement("h4",null,"ðŸ“ˆ Bundle Summary"),e.createElement("div",{className:"summary-stats"},e.createElement("div",{className:"stat"},e.createElement("span",{className:"stat-value"},r(a)),e.createElement("span",{className:"stat-label"},"Total Size")),e.createElement("div",{className:"stat"},e.createElement("span",{className:"stat-value"},r(t)),e.createElement("span",{className:"stat-label"},"Compressed")),e.createElement("div",{className:"stat"},e.createElement("span",{className:"stat-value"},c,"%"),e.createElement("span",{className:"stat-label"},"Compression")),e.createElement("div",{className:"stat"},e.createElement("span",{className:"stat-value"},s),e.createElement("span",{className:"stat-label"},"Chunks")))));h.displayName="BundleSummary";h.propTypes={totalSize:l.number.isRequired,compressedSize:l.number.isRequired,compressionRatio:l.string.isRequired,chunksCount:l.number.isRequired};const y=e.memo(({budgetStatus:a})=>{var t,c;return e.createElement("div",{className:"metric-card budget-status"},e.createElement("h4",null,"Budget Status"),e.createElement("div",{className:`budget-indicator ${a.passed?"passed":"failed"}`},e.createElement("span",{className:"budget-icon"},a.passed?"âœ…":"âŒ"),e.createElement("span",{className:"budget-text"},a.passed?"All budgets met":`${((t=a.warnings)==null?void 0:t.length)||0} violations`)),!a.passed&&((c=a.warnings)==null?void 0:c.slice(0,3).map((s,n)=>e.createElement("div",{key:n,className:"budget-violation"},e.createElement("span",{className:"violation-message"},typeof s=="string"?s:s.message)))))});y.displayName="BudgetStatus";y.propTypes={budgetStatus:l.object.isRequired};const g=e.memo(({chunks:a})=>{const t=[...a].sort((s,n)=>(n.size||0)-(s.size||0)),c=t.slice(0,10);return e.createElement("div",{className:"chunks-tab"},e.createElement("div",{className:"chunks-analysis"},e.createElement("h4",null,"ðŸ”¥ Largest Chunks (Top 10)"),e.createElement("div",{className:"chunks-list"},c.map((s,n)=>{var m;return e.createElement("div",{key:n,className:"chunk-item detailed"},e.createElement("div",{className:"chunk-info"},e.createElement("span",{className:"chunk-name"},s.name),e.createElement("span",{className:"chunk-type"},s.type||"js")),e.createElement("div",{className:"chunk-metrics"},e.createElement("span",{className:"chunk-size"},r(s.size||0)),e.createElement("span",{className:"chunk-compressed"},r(s.compressedSize||0)),e.createElement("span",{className:"chunk-compression"},s.compressionRatio,"%"),e.createElement("span",{className:"chunk-load-time"},((m=s.loadTime)==null?void 0:m.toFixed(2))||0,"ms"),s.cached&&e.createElement("span",{className:"cached-indicator"},"ðŸ’¾")))}))),e.createElement("div",{className:"all-chunks"},e.createElement("h4",null,"ðŸ“‚ All Chunks (",a.length,")"),e.createElement("div",{className:"chunks-container"},t.map((s,n)=>{var m;return e.createElement("div",{key:n,className:"chunk-item compact"},e.createElement("span",{className:"chunk-name"},s.name),e.createElement("span",{className:"chunk-size"},r(s.size||0)),e.createElement("span",{className:"chunk-load-time"},((m=s.loadTime)==null?void 0:m.toFixed(2))||0,"ms"),s.cached&&e.createElement("span",{className:"cached-indicator"},"ðŸ“¦"))}))))});g.displayName="ChunksTab";g.propTypes={chunks:l.array.isRequired};const b=e.memo(({dependencies:a,totalSize:t})=>{const c=Object.entries(a).sort(([,s],[,n])=>n-s).slice(0,5);return e.createElement("div",{className:"dependencies-tab"},e.createElement("div",{className:"dependencies-analysis"},e.createElement("h4",null,"ðŸ“š Largest Dependencies"),c.length>0?e.createElement("div",{className:"dependencies-list"},c.map(([s,n],m)=>e.createElement("div",{key:m,className:"dependency-item"},e.createElement("div",{className:"dependency-info"},e.createElement("span",{className:"dependency-name"},s)),e.createElement("div",{className:"dependency-metrics"},e.createElement("span",{className:"dependency-size"},r(n)),e.createElement("span",{className:"dependency-percentage"},(n/t*100).toFixed(1),"%"))))):e.createElement("div",{className:"no-dependencies"},"No dependency data available")))});b.displayName="DependenciesTab";b.propTypes={dependencies:l.object.isRequired,totalSize:l.number.isRequired};const f=e.memo(({recommendations:a})=>e.createElement("div",{className:"recommendations-tab"},e.createElement("div",{className:"recommendations"},e.createElement("h4",null,"ðŸ’¡ Optimization Recommendations"),a.length>0?e.createElement("div",{className:"recommendations-list"},a.map((t,c)=>e.createElement("div",{key:c,className:"recommendation-item"},e.createElement("div",{className:"recommendation-icon"},"ðŸ’¡"),e.createElement("div",{className:"recommendation-content"},e.createElement("span",{className:"recommendation-text"},t))))):e.createElement("div",{className:"no-recommendations"},e.createElement("div",{className:"success-message"},e.createElement("span",{className:"success-icon"},"âœ…"),e.createElement("span",null,"All optimization recommendations met!"))))));f.displayName="RecommendationsTab";f.propTypes={recommendations:l.array.isRequired};const u=({isVisible:a=!0})=>{var N;const{totalSize:t,compressedSize:c,chunks:s,cacheEfficiency:n}=A();q();const{theme:m}=F(),{isVisible:E,toggleVisibility:z}=x(),[P,V]=d.useState("overview"),[T,j]=d.useState(()=>localStorage.getItem("bundleAnalyzerClosedThisSession")==="true");d.useEffect(()=>{const o=()=>{localStorage.removeItem("bundleAnalyzerClosedThisSession")};return window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o)},[]);const i=t>0?((t-c)/t*100).toFixed(1):0;s.length>0&&((N=s[0])==null?void 0:N.size)>2e5;const k=(()=>{const o=t<3e5?25:t<5e5?20:t<1e6?15:10,S=i>70?25:i>50?20:i>30?15:10,C=parseFloat(n)>80?25:parseFloat(n)>60?20:parseFloat(n)>40?15:10,R=s.length<10?25:s.length<20?20:s.length<30?15:10;return o+S+C+R})(),{grade:M,color:L}=D(k),B=()=>{z()};return T?null:e.createElement(e.Fragment,null,e.createElement(w,{isVisible:E,onToggle:B}),E)};u.displayName="BundleAnalyzer";u.propTypes={isVisible:l.bool};const G=e.memo(u);export{G as BundleAnalyzer,w as BundleAnalyzerToggle};
