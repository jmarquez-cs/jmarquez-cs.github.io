var t,e,r=Object.defineProperty,n=(t,e,n)=>((t,e,n)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!=typeof e?e+"":e,n);const i=new Uint8Array(0);function s(t){const e=t.match(/../g);return null!=e?new Uint8Array(e.map(t=>parseInt(t,16))):i}function o(t){if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}var h=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var h=t.length,a=t.charAt(0),u=Math.log(h)/Math.log(256),f=Math.log(256)/Math.log(h);function c(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===a;)n++,e++;for(var s=(t.length-e)*u+1>>>0,o=new Uint8Array(s);t[e];){var f=r[t.charCodeAt(e)];if(255===f)return;for(var c=0,l=s-1;(0!==f||c<i)&&-1!==l;l--,c++)f+=h*o[l]>>>0,o[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=c,e++}if(" "!==t[e]){for(var b=s-i;b!==s&&0===o[b];)b++;for(var d=new Uint8Array(n+(s-b)),p=n;b!==s;)d[p++]=o[b++];return d}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var o=(s-i)*f+1>>>0,u=new Uint8Array(o);i!==s;){for(var c=e[i],l=0,b=o-1;(0!==c||l<n)&&-1!==b;b--,l++)c+=256*u[b]>>>0,u[b]=c%h>>>0,c=c/h>>>0;if(0!==c)throw new Error("Non-zero carry");n=l,i++}for(var d=o-n;d!==o&&0===u[d];)d++;for(var p=a.repeat(r);d<o;++d)p+=t.charAt(u[d]);return p},decodeUnsafe:c,decode:function(t){var r=c(t);if(r)return r;throw new Error(`Non-${e} character`)}}};class a{constructor(t,e,r){n(this,"name"),n(this,"prefix"),n(this,"baseEncode"),this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class u{constructor(t,e,r){n(this,"name"),n(this,"prefix"),n(this,"baseDecode"),n(this,"prefixCodePoint"),this.name=t,this.prefix=e;const i=e.codePointAt(0);if(void 0===i)throw new Error("Invalid prefix character");this.prefixCodePoint=i,this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return c(this,t)}}class f{constructor(t){n(this,"decoders"),this.decoders=t}or(t){return c(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(null!=r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function c(t,e){return new f({...t.decoders??{[t.prefix]:t},...e.decoders??{[e.prefix]:e}})}class l{constructor(t,e,r,i){n(this,"name"),n(this,"prefix"),n(this,"baseEncode"),n(this,"baseDecode"),n(this,"encoder"),n(this,"decoder"),this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=i,this.encoder=new a(t,e,r),this.decoder=new u(t,e,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function b({name:t,prefix:e,encode:r,decode:n}){return new l(t,e,r,n)}function d({name:t,prefix:e,alphabet:r}){const{encode:n,decode:i}=h(r,t);return b({prefix:e,name:t,encode:n,decode:t=>o(i(t))})}function p({name:t,prefix:e,bitsPerChar:r,alphabet:n}){const i=function(t){const e={};for(let r=0;r<t.length;++r)e[t[r]]=r;return e}(n);return b({prefix:e,name:t,encode:t=>function(t,e,r){const n="="===e[e.length-1],i=(1<<r)-1;let s="",o=0,h=0;for(let a=0;a<t.length;++a)for(h=h<<8|t[a],o+=8;o>r;)o-=r,s+=e[i&h>>o];if(0!==o&&(s+=e[i&h<<r-o]),n)for(;s.length*r&7;)s+="=";return s}(t,n,r),decode:e=>function(t,e,r,n){let i=t.length;for(;"="===t[i-1];)--i;const s=new Uint8Array(i*r/8|0);let o=0,h=0,a=0;for(let u=0;u<i;++u){const i=e[t[u]];if(void 0===i)throw new SyntaxError(`Non-${n} character`);h=h<<r|i,o+=r,o>=8&&(o-=8,s[a++]=255&h>>o)}if(o>=r||255&h<<8-o)throw new SyntaxError("Unexpected end of data");return s}(e,i,r,t)})}const g=p({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),y=p({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),w=p({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),m=p({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),x=p({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),v=p({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),A=p({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),E=p({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),I=p({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),S=Object.freeze(Object.defineProperty({__proto__:null,base32:g,base32hex:x,base32hexpad:A,base32hexpadupper:E,base32hexupper:v,base32pad:w,base32padupper:m,base32upper:y,base32z:I},Symbol.toStringTag,{value:"Module"})),U=d({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),L=d({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),_=Object.freeze(Object.defineProperty({__proto__:null,base58btc:U,base58flickr:L},Symbol.toStringTag,{value:"Module"})),C=p({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),D=p({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),N=p({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),O=p({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),T=Object.freeze(Object.defineProperty({__proto__:null,base64:C,base64pad:D,base64url:N,base64urlpad:O},Symbol.toStringTag,{value:"Module"}));class B extends Event{constructor(t,e){super(t),n(this,"type"),n(this,"detail"),this.type=t,this.detail=e}}const z=d({prefix:"9",name:"base10",alphabet:"0123456789"}),V=Object.freeze(Object.defineProperty({__proto__:null,base10:z},Symbol.toStringTag,{value:"Module"})),M=p({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),P=p({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),j=Object.freeze(Object.defineProperty({__proto__:null,base16:M,base16upper:P},Symbol.toStringTag,{value:"Module"})),k=p({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),F=Object.freeze(Object.defineProperty({__proto__:null,base2:k},Symbol.toStringTag,{value:"Module"})),R=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),$=R.reduce((t,e,r)=>(t[r]=e,t),[]),G=R.reduce((t,e,r)=>{const n=e.codePointAt(0);if(null==n)throw new Error(`Invalid character: ${e}`);return t[n]=r,t},[]);const q=b({prefix:"ðŸš€",name:"base256emoji",encode:function(t){return t.reduce((t,e)=>t+=$[e],"")},decode:function(t){const e=[];for(const r of t){const t=r.codePointAt(0);if(null==t)throw new Error(`Invalid character: ${r}`);const n=G[t];if(null==n)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}}),H=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:q},Symbol.toStringTag,{value:"Module"})),J=d({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Q=d({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),K=Object.freeze(Object.defineProperty({__proto__:null,base36:J,base36upper:Q},Symbol.toStringTag,{value:"Module"})),W=p({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),X=Object.freeze(Object.defineProperty({__proto__:null,base8:W},Symbol.toStringTag,{value:"Module"})),Z=b({prefix:"\0",name:"identity",encode:t=>{return e=t,(new TextDecoder).decode(e);var e},decode:t=>function(t){return(new TextEncoder).encode(t)}(t)}),Y=Object.freeze(Object.defineProperty({__proto__:null,identity:Z},Symbol.toStringTag,{value:"Module"})),tt=new TextEncoder,et=new TextDecoder,rt=512;function nt(t){return JSON.parse(et.decode(t))}const it=Object.freeze(Object.defineProperty({__proto__:null,code:512,decode:nt,encode:function(t){return tt.encode(JSON.stringify(t))},name:"json"},Symbol.toStringTag,{value:"Module"}));var st=function t(e,r,n){r=r||[];var i=n=n||0;for(;e>=at;)r[n++]=255&e|ot,e/=128;for(;e&ht;)r[n++]=255&e|ot,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},ot=128,ht=-128,at=Math.pow(2,31);var ut=function t(e,r){var n,i=0,s=0,o=r=r||0,h=e.length;do{if(o>=h)throw t.bytes=0,new RangeError("Could not decode varint");n=e[o++],i+=s<28?(n&ct)<<s:(n&ct)*Math.pow(2,s),s+=7}while(n>=ft);return t.bytes=o-r,i},ft=128,ct=127;var lt=Math.pow(2,7),bt=Math.pow(2,14),dt=Math.pow(2,21),pt=Math.pow(2,28),gt=Math.pow(2,35),yt=Math.pow(2,42),wt=Math.pow(2,49),mt=Math.pow(2,56),xt=Math.pow(2,63),vt={encode:st,decode:ut,encodingLength:function(t){return t<lt?1:t<bt?2:t<dt?3:t<pt?4:t<gt?5:t<yt?6:t<wt?7:t<mt?8:t<xt?9:10}};function At(t,e=0){return[vt.decode(t,e),vt.decode.bytes]}function Et(t,e,r=0){return vt.encode(t,e,r),e}function It(t){return vt.encodingLength(t)}function St(t,e){const r=e.byteLength,n=It(t),i=n+It(r),s=new Uint8Array(i+r);return Et(t,s,0),Et(r,s,n),s.set(e,i),new Lt(t,r,e,s)}function Ut(t){const e=o(t),[r,n]=At(e),[i,s]=At(e.subarray(n)),h=e.subarray(n+s);if(h.byteLength!==i)throw new Error("Incorrect length");return new Lt(r,i,h,e)}class Lt{constructor(t,e,r,i){n(this,"code"),n(this,"size"),n(this,"digest"),n(this,"bytes"),this.code=t,this.size=e,this.digest=r,this.bytes=i}}const _t=o;const Ct={code:0,name:"identity",encode:_t,digest:function(t){return St(0,_t(t))}};function Dt({name:t,code:e,encode:r}){return new Nt(t,e,r)}class Nt{constructor(t,e,r){n(this,"name"),n(this,"code"),n(this,"encode"),this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?St(this.code,e):e.then(t=>St(this.code,t))}throw Error("Unknown type, must be binary type")}}function Ot(t){return async e=>new Uint8Array(await crypto.subtle.digest(t,e))}const Tt=Dt({name:"sha2-256",code:18,encode:Ot("SHA-256")}),Bt=Dt({name:"sha2-512",code:19,encode:Ot("SHA-512")});function zt(t,e){const{bytes:r,version:n}=t;return 0===n?function(t,e,r){const{prefix:n}=r;if(n!==U.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=e.get(n);if(null==i){const i=r.encode(t).slice(1);return e.set(n,i),i}return i}(r,Mt(t),e??U.encoder):function(t,e,r){const{prefix:n}=r,i=e.get(n);if(null==i){const i=r.encode(t);return e.set(n,i),i}return i}(r,Mt(t),e??g.encoder)}const Vt=new WeakMap;function Mt(t){const e=Vt.get(t);if(null==e){const e=new Map;return Vt.set(t,e),e}return e}class Pt{constructor(e,r,i,s){n(this,"code"),n(this,"version"),n(this,"multihash"),n(this,"bytes"),n(this,"/"),n(this,t,"CID"),this.code=r,this.version=e,this.multihash=i,this.bytes=s,this["/"]=s}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:e}=this;if(t!==jt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==kt)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Pt.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:e}=this.multihash,r=St(t,e);return Pt.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Pt.equals(this,t)}static equals(t,e){const r=e;return null!=r&&t.code===r.code&&t.version===r.version&&function(t,e){if(t===e)return!0;{const r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&function(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}(t.bytes,r.bytes)}}(t.multihash,r.multihash)}toString(t){return zt(this,t)}toJSON(){return{"/":zt(this)}}link(){return this}[(t=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const e=t;if(e instanceof Pt)return e;if(null!=e["/"]&&e["/"]===e.bytes||e.asCID===e){const{version:t,code:r,multihash:n,bytes:i}=e;return new Pt(t,r,n,i??Ft(t,r,n.bytes))}if(!0===e[Rt]){const{version:t,multihash:r,code:n}=e,i=Ut(r);return Pt.create(t,n,i)}return null}static create(t,e,r){if("number"!=typeof e)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(e!==jt)throw new Error(`Version 0 CID must use dag-pb (code: ${jt}) block encoding`);return new Pt(t,e,r,r.bytes);case 1:{const n=Ft(t,e,r.bytes);return new Pt(t,e,r,n)}default:throw new Error("Invalid version")}}static createV0(t){return Pt.create(0,jt,t)}static createV1(t,e){return Pt.create(1,t,e)}static decode(t){const[e,r]=Pt.decodeFirst(t);if(0!==r.length)throw new Error("Incorrect length");return e}static decodeFirst(t){const e=Pt.inspectBytes(t),r=e.size-e.multihashSize,n=o(t.subarray(r,r+e.multihashSize));if(n.byteLength!==e.multihashSize)throw new Error("Incorrect length");const i=n.subarray(e.multihashSize-e.digestSize),s=new Lt(e.multihashCode,e.digestSize,i,n);return[0===e.version?Pt.createV0(s):Pt.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0;const r=()=>{const[r,n]=At(t.subarray(e));return e+=n,r};let n=r(),i=jt;if(18===n?(n=0,e=0):i=r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=e,o=r(),h=r(),a=e+h;return{version:n,codec:i,multihashCode:o,digestSize:h,multihashSize:a-s,size:a}}static parse(t,e){const[r,n]=function(t,e){switch(t[0]){case"Q":{const r=e??U;return[U.prefix,r.decode(`${U.prefix}${t}`)]}case U.prefix:{const r=e??U;return[U.prefix,r.decode(t)]}case g.prefix:{const r=e??g;return[g.prefix,r.decode(t)]}case J.prefix:{const r=e??J;return[J.prefix,r.decode(t)]}default:if(null==e)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}(t,e),i=Pt.decode(n);if(0===i.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return Mt(i).set(r,t),i}}const jt=112,kt=18;function Ft(t,e,r){const n=It(t),i=n+It(e),s=new Uint8Array(i+r.byteLength);return Et(t,s,0),Et(e,s,n),s.set(r,i),s}const Rt=Symbol.for("@ipld/js-cid/CID"),$t={...Y,...F,...X,...V,...j,...S,...K,..._,...T,...H};function Gt(t=0){return new Uint8Array(t)}function qt(t=0){return new Uint8Array(t)}function Ht(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Jt=Ht("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>(new TextEncoder).encode(t.substring(1))),Qt=Ht("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{const e=qt((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Kt={utf8:Jt,"utf-8":Jt,hex:$t.base16,latin1:Qt,ascii:Qt,binary:Qt,...$t};function Wt(t,e="utf8"){const r=Kt[e];if(null==r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}function Xt(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function Zt(t){return t}function Yt(t,e){null==e&&(e=t.reduce((t,e)=>t+e.length,0));const r=qt(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}const te=Symbol.for("@achingbrain/uint8arraylist");function ee(t,e){if(null==e||e<0)throw new RangeError("index is out of bounds");let r=0;for(const n of t){const t=r+n.byteLength;if(e<t)return{buf:n,index:e-r};r=t}throw new RangeError("index is out of bounds")}function re(t){return Boolean(null==t?void 0:t[te])}class ne{constructor(...t){n(this,"bufs"),n(this,"length"),n(this,e,!0),this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[(e=te,Symbol.iterator)](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let e=0;for(const r of t)if(r instanceof Uint8Array)e+=r.byteLength,this.bufs.push(r);else{if(!re(r))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");e+=r.byteLength,this.bufs.push(...r.bufs)}this.length+=e}prepend(...t){this.prependAll(t)}prependAll(t){let e=0;for(const r of t.reverse())if(r instanceof Uint8Array)e+=r.byteLength,this.bufs.unshift(r);else{if(!re(r))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");e+=r.byteLength,this.bufs.unshift(...r.bufs)}this.length+=e}get(t){const e=ee(this.bufs,t);return e.buf[e.index]}set(t,e){const r=ee(this.bufs,t);r.buf[r.index]=e}write(t,e=0){if(t instanceof Uint8Array)for(let r=0;r<t.length;r++)this.set(e+r,t[r]);else{if(!re(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let r=0;r<t.length;r++)this.set(e+r,t.get(r))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,e){const{bufs:r,length:n}=this._subList(t,e);return Yt(r,n)}subarray(t,e){const{bufs:r,length:n}=this._subList(t,e);return 1===r.length?r[0]:Yt(r,n)}sublist(t,e){const{bufs:r,length:n}=this._subList(t,e),i=new ne;return i.length=n,i.bufs=[...r],i}_subList(t,e){if(t=t??0,e=e??this.length,t<0&&(t=this.length+t),e<0&&(e=this.length+e),t<0||e>this.length)throw new RangeError("index is out of bounds");if(t===e)return{bufs:[],length:0};if(0===t&&e===this.length)return{bufs:this.bufs,length:this.length};const r=[];let n=0;for(let i=0;i<this.bufs.length;i++){const s=this.bufs[i],o=n,h=o+s.byteLength;if(n=h,t>=h)continue;const a=t>=o&&t<h,u=e>o&&e<=h;if(a&&u){if(t===o&&e===h){r.push(s);break}const n=t-o;r.push(s.subarray(n,n+(e-t)));break}if(a){if(0===t){r.push(s);continue}r.push(s.subarray(t-o))}else{if(u){if(e===h){r.push(s);break}r.push(s.subarray(0,e-o));break}r.push(s)}}return{bufs:r,length:e-t}}indexOf(t,e=0){if(!(re(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const r=t instanceof Uint8Array?t:t.subarray();if(e=Number(e??0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;const n=r.byteLength;if(0===n)throw new TypeError("search must be at least 1 byte long");const i=new Int32Array(256);for(let u=0;u<256;u++)i[u]=-1;for(let u=0;u<n;u++)i[r[u]]=u;const s=i,o=this.byteLength-r.byteLength,h=r.byteLength-1;let a;for(let u=e;u<=o;u+=a){a=0;for(let t=h;t>=0;t--){const e=this.get(u+t);if(r[t]!==e){a=Math.max(1,t-s[e]);break}}if(0===a)return u}return-1}getInt8(t){const e=this.subarray(t,t+1);return new DataView(e.buffer,e.byteOffset,e.byteLength).getInt8(0)}setInt8(t,e){const r=qt(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setInt8(0,e),this.write(r,t)}getInt16(t,e){const r=this.subarray(t,t+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt16(0,e)}setInt16(t,e,r){const n=Gt(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,e,r),this.write(n,t)}getInt32(t,e){const r=this.subarray(t,t+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt32(0,e)}setInt32(t,e,r){const n=Gt(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,e,r),this.write(n,t)}getBigInt64(t,e){const r=this.subarray(t,t+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigInt64(0,e)}setBigInt64(t,e,r){const n=Gt(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,e,r),this.write(n,t)}getUint8(t){const e=this.subarray(t,t+1);return new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0)}setUint8(t,e){const r=qt(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setUint8(0,e),this.write(r,t)}getUint16(t,e){const r=this.subarray(t,t+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint16(0,e)}setUint16(t,e,r){const n=Gt(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,e,r),this.write(n,t)}getUint32(t,e){const r=this.subarray(t,t+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint32(0,e)}setUint32(t,e,r){const n=Gt(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,e,r),this.write(n,t)}getBigUint64(t,e){const r=this.subarray(t,t+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigUint64(0,e)}setBigUint64(t,e,r){const n=Gt(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,e,r),this.write(n,t)}getFloat32(t,e){const r=this.subarray(t,t+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat32(0,e)}setFloat32(t,e,r){const n=Gt(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,e,r),this.write(n,t)}getFloat64(t,e){const r=this.subarray(t,t+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat64(0,e)}setFloat64(t,e,r){const n=Gt(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,e,r),this.write(n,t)}equals(t){if(null==t)return!1;if(!(t instanceof ne))return!1;if(t.bufs.length!==this.bufs.length)return!1;for(let e=0;e<this.bufs.length;e++)if(!Xt(this.bufs[e],t.bufs[e]))return!1;return!0}static fromUint8Arrays(t,e){const r=new ne;return r.bufs=t,null==e&&(e=t.reduce((t,e)=>t+e.byteLength,0)),r.length=e,r}}const ie=Math.pow(2,7),se=Math.pow(2,14),oe=Math.pow(2,21),he=Math.pow(2,28),ae=Math.pow(2,35),ue=Math.pow(2,42),fe=Math.pow(2,49),ce=128,le=127;function be(t){if(t<ie)return 1;if(t<se)return 2;if(t<oe)return 3;if(t<he)return 4;if(t<ae)return 5;if(t<ue)return 6;if(t<fe)return 7;if(null!=Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function de(t,e,r=0){switch(be(t)){case 8:e[r++]=255&t|ce,t/=128;case 7:e[r++]=255&t|ce,t/=128;case 6:e[r++]=255&t|ce,t/=128;case 5:e[r++]=255&t|ce,t/=128;case 4:e[r++]=255&t|ce,t>>>=7;case 3:e[r++]=255&t|ce,t>>>=7;case 2:e[r++]=255&t|ce,t>>>=7;case 1:e[r++]=255&t,t>>>=7;break;default:throw new Error("unreachable")}return e}function pe(t,e){let r=t[e],n=0;if(n+=r&le,r<ce)return n;if(r=t[e+1],n+=(r&le)<<7,r<ce)return n;if(r=t[e+2],n+=(r&le)<<14,r<ce)return n;if(r=t[e+3],n+=(r&le)<<21,r<ce)return n;if(r=t[e+4],n+=(r&le)*he,r<ce)return n;if(r=t[e+5],n+=(r&le)*ae,r<ce)return n;if(r=t[e+6],n+=(r&le)*ue,r<ce)return n;if(r=t[e+7],n+=(r&le)*fe,r<ce)return n;throw new RangeError("Could not decode varint")}function ge(t,e,r=0){return null==e&&(e=qt(be(t))),e instanceof Uint8Array?de(t,e,r):function(t,e,r=0){switch(be(t)){case 8:e.set(r++,255&t|ce),t/=128;case 7:e.set(r++,255&t|ce),t/=128;case 6:e.set(r++,255&t|ce),t/=128;case 5:e.set(r++,255&t|ce),t/=128;case 4:e.set(r++,255&t|ce),t>>>=7;case 3:e.set(r++,255&t|ce),t>>>=7;case 2:e.set(r++,255&t|ce),t>>>=7;case 1:e.set(r++,255&t),t>>>=7;break;default:throw new Error("unreachable")}return e}(t,e,r)}function ye(t,e=0){return t instanceof Uint8Array?pe(t,e):function(t,e){let r=t.get(e),n=0;if(n+=r&le,r<ce)return n;if(r=t.get(e+1),n+=(r&le)<<7,r<ce)return n;if(r=t.get(e+2),n+=(r&le)<<14,r<ce)return n;if(r=t.get(e+3),n+=(r&le)<<21,r<ce)return n;if(r=t.get(e+4),n+=(r&le)*he,r<ce)return n;if(r=t.get(e+5),n+=(r&le)*ae,r<ce)return n;if(r=t.get(e+6),n+=(r&le)*ue,r<ce)return n;if(r=t.get(e+7),n+=(r&le)*fe,r<ce)return n;throw new RangeError("Could not decode varint")}(t,e)}const we=new Float32Array([-0]),me=new Uint8Array(we.buffer);function xe(t,e,r){we[0]=t,e[r]=me[0],e[r+1]=me[1],e[r+2]=me[2],e[r+3]=me[3]}const ve=new Float64Array([-0]),Ae=new Uint8Array(ve.buffer);function Ee(t,e,r){ve[0]=t,e[r]=Ae[0],e[r+1]=Ae[1],e[r+2]=Ae[2],e[r+3]=Ae[3],e[r+4]=Ae[4],e[r+5]=Ae[5],e[r+6]=Ae[6],e[r+7]=Ae[7]}const Ie=BigInt(Number.MAX_SAFE_INTEGER),Se=BigInt(Number.MIN_SAFE_INTEGER);class Ue{constructor(t,e){n(this,"lo"),n(this,"hi"),this.lo=0|t,this.hi=0|e}toNumber(t=!1){if(!t&&this.hi>>>31>0){const t=1+~this.lo>>>0;let e=~this.hi>>>0;return 0===t&&(e=e+1>>>0),-(t+4294967296*e)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31!=0){const t=1+~this.lo>>>0;let e=~this.hi>>>0;return 0===t&&(e=e+1>>>0),-(BigInt(t)+(BigInt(e)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:r<128?9:10}static fromBigInt(t){if(0n===t)return Le;if(t<Ie&&t>Se)return this.fromNumber(Number(t));const e=t<0n;e&&(t=-t);let r=t>>32n,n=t-(r<<32n);return e&&(r=0n|~r,n=0n|~n,++n>_e&&(n=0n,++r>_e&&(r=0n))),new Ue(Number(n),Number(r))}static fromNumber(t){if(0===t)return Le;const e=t<0;e&&(t=-t);let r=t>>>0,n=(t-r)/4294967296>>>0;return e&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new Ue(r,n)}static from(t){return"number"==typeof t?Ue.fromNumber(t):"bigint"==typeof t?Ue.fromBigInt(t):"string"==typeof t?Ue.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new Ue(t.low>>>0,t.high>>>0):Le}}const Le=new Ue(0,0);Le.toBigInt=function(){return 0n},Le.zzEncode=Le.zzDecode=function(){return this},Le.length=function(){return 1};const _e=4294967296n;function Ce(t,e,r){const n=r;let i,s;for(let o=0;o<t.length;++o)i=t.charCodeAt(o),i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(s=t.charCodeAt(o+1)))?(i=65536+((1023&i)<<10)+(1023&s),++o,e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128);return r-n}function De(t,e){return RangeError(`index out of range: ${t.pos} + ${e??1} > ${t.len}`)}function Ne(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}class Oe{constructor(t){n(this,"buf"),n(this,"pos"),n(this,"len"),n(this,"_slice",Uint8Array.prototype.subarray),this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,De(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw De(this,4);return Ne(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw De(this,4);return 0|Ne(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw De(this,4);const t=(e=this.buf,r=this.pos,me[0]=e[r],me[1]=e[r+1],me[2]=e[r+2],me[3]=e[r+3],we[0]);var e,r;return this.pos+=4,t}double(){if(this.pos+8>this.len)throw De(this,4);const t=(e=this.buf,r=this.pos,Ae[0]=e[r],Ae[1]=e[r+1],Ae[2]=e[r+2],Ae[3]=e[r+3],Ae[4]=e[r+4],Ae[5]=e[r+5],Ae[6]=e[r+6],Ae[7]=e[r+7],ve[0]);var e,r;return this.pos+=8,t}bytes(){const t=this.uint32(),e=this.pos,r=this.pos+t;if(r>this.len)throw De(this,t);return this.pos+=t,e===r?new Uint8Array(0):this.buf.subarray(e,r)}string(){const t=this.bytes();return function(t,e,r){if(r-e<1)return"";let n;const i=[];let s,o=0;for(;e<r;)s=t[e++],s<128?i[o++]=s:s>191&&s<224?i[o++]=(31&s)<<6|63&t[e++]:s>239&&s<365?(s=((7&s)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[o++]=55296+(s>>10),i[o++]=56320+(1023&s)):i[o++]=(15&s)<<12|(63&t[e++])<<6|63&t[e++],o>8191&&((n??(n=[])).push(String.fromCharCode.apply(String,i)),o=0);return null!=n?(o>0&&n.push(String.fromCharCode.apply(String,i.slice(0,o))),n.join("")):String.fromCharCode.apply(String,i.slice(0,o))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw De(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw De(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new Ue(0,0);let e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw De(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw De(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw De(this,8);const t=Ne(this.buf,this.pos+=4),e=Ne(this.buf,this.pos+=4);return new Ue(t,e)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=pe(this.buf,this.pos);return this.pos+=be(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function Te(t,e,r){const n=function(t){return new Oe(t instanceof Uint8Array?t:t.subarray())}(t);return e.decode(n,void 0,r)}class Be{constructor(t,e,r){n(this,"fn"),n(this,"len"),n(this,"next"),n(this,"val"),this.fn=t,this.len=e,this.next=void 0,this.val=r}}function ze(){}class Ve{constructor(t){n(this,"head"),n(this,"tail"),n(this,"len"),n(this,"next"),this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const Me=function(){const t=8192;let e,r=t;return function(n){if(n<1||n>4096)return qt(n);r+n>t&&(e=qt(t),r=0);const i=e.subarray(r,r+=n);return 7&r&&(r=1+(7|r)),i}}();class Pe{constructor(){n(this,"len"),n(this,"head"),n(this,"tail"),n(this,"states"),this.len=0,this.head=new Be(ze,0,0),this.tail=this.head,this.states=null}_push(t,e,r){return this.tail=this.tail.next=new Be(t,e,r),this.len+=e,this}uint32(t){return this.len+=(this.tail=this.tail.next=new Fe((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(Re,10,Ue.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const e=Ue.fromBigInt(t);return this._push(Re,e.length(),e)}uint64Number(t){return this._push(de,be(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const e=Ue.fromBigInt(t).zzEncode();return this._push(Re,e.length(),e)}sint64Number(t){const e=Ue.fromNumber(t).zzEncode();return this._push(Re,e.length(),e)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(je,1,t?1:0)}fixed32(t){return this._push($e,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const e=Ue.fromBigInt(t);return this._push($e,4,e.lo)._push($e,4,e.hi)}fixed64Number(t){const e=Ue.fromNumber(t);return this._push($e,4,e.lo)._push($e,4,e.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(xe,4,t)}double(t){return this._push(Ee,8,t)}bytes(t){const e=t.length>>>0;return 0===e?this._push(je,1,0):this.uint32(e)._push(Ge,e,t)}string(t){const e=function(t){let e=0,r=0;for(let n=0;n<t.length;++n)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(n+1))?(++n,e+=4):e+=3;return e}(t);return 0!==e?this.uint32(e)._push(Ce,e,t):this._push(je,1,0)}fork(){return this.states=new Ve(this),this.head=this.tail=new Be(ze,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Be(ze,0,0),this.len=0),this}ldelim(){const t=this.head,e=this.tail,r=this.len;return this.reset().uint32(r),0!==r&&(this.tail.next=t.next,this.tail=e,this.len+=r),this}finish(){let t=this.head.next;const e=(r=this.len,null!=globalThis.Buffer?qt(r):Me(r));var r;let n=0;for(;null!=t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e}}function je(t,e,r){e[r]=255&t}function ke(t,e,r){for(;t>127;)e[r++]=127&t|128,t>>>=7;e[r]=t}class Fe extends Be{constructor(t,e){super(ke,t,e),n(this,"next"),this.next=void 0}}function Re(t,e,r){for(;0!==t.hi;)e[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=127&t.lo|128,t.lo=t.lo>>>7;e[r++]=t.lo}function $e(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Ge(t,e,r){e.set(t,r)}function qe(t,e,r){e.set(t,r)}function He(t,e,r){t.length<40?Ce(t,e,r):null!=e.utf8Write?e.utf8Write(t,r):e.set(Wt(t),r)}function Je(t,e){const r=new Pe;return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var Qe,Ke;function We(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function Xe(t){function e(e){if(null==t[e.toString()])throw new Error("Invalid enum value");return t[e]}return We("enum",Qe.VARINT,function(t,r){const n=e(t);r.int32(n)},function(t){return e(t.int32())})}function Ze(t,e){return We("message",Qe.LENGTH_DELIMITED,t,e)}null!=globalThis.Buffer&&(Pe.prototype.bytes=function(t){const e=t.length>>>0;return this.uint32(e),e>0&&this._push(qe,e,t),this},Pe.prototype.string=function(t){const e=globalThis.Buffer.byteLength(t);return this.uint32(e),e>0&&this._push(He,e,t),this}),(Ke=Qe||(Qe={}))[Ke.VARINT=0]="VARINT",Ke[Ke.BIT64=1]="BIT64",Ke[Ke.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",Ke[Ke.START_GROUP=3]="START_GROUP",Ke[Ke.END_GROUP=4]="END_GROUP",Ke[Ke.BIT32=5]="BIT32";export{nt as A,Kt as B,Pt as C,rt as D,qt as E,it as F,Bt as G,re as H,Zt as I,ne as U,B as a,U as b,J as c,Ut as d,Xt as e,Wt as f,Xe as g,Je as h,Te as i,Yt as j,Gt as k,g as l,Ze as m,C as n,o,Ct as p,St as q,$t as r,Tt as s,N as t,be as u,de as v,ye as w,ge as x,Dt as y,s as z};
